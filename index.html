<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Account Management System</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Login Form -->

    <div class="effect"></div>
    <div class="login">
      <div class="nextUI" id="loginForm">
        <div class="container">
          <h2>Welcome Back</h2>
          <form onsubmit="handleLogin(event)">
            <div class="form-group">
              <label for="loginEmail">Email</label>
              <div class="input-icon">
                <i class="fas fa-envelope"></i>
                <input
                  type="email"
                  id="loginEmail"
                  required
                  placeholder="Enter your email"
                />
              </div>
            </div>
            <div class="form-group">
              <label for="loginPassword">Password</label>
              <div class="input-icon">
                <i class="fas fa-lock"></i>
                <input
                  type="password"
                  id="loginPassword"
                  required
                  placeholder="Enter your password"
                />
              </div>
            </div>
            <div class="form-group" id="mfaGroup" style="display: none">
              <label for="mfaCode">2FA Code</label>
              <div class="input-icon">
                <i class="fas fa-shield-alt"></i>
                <input
                  type="text"
                  id="mfaCode"
                  placeholder="Enter 6-digit code"
                />
              </div>
            </div>
            <button type="submit">
              <i class="fas fa-sign-in-alt"></i>
              Login
            </button>
            <div class="switch-form">
              <a href="#" onclick="switchForm('register')"
                >Don't have an account? Register</a
              >
            </div>
          </form>
        </div>
        <div class="image">
          <img
            id="img2"
            src="https://images.unsplash.com/photo-1487958449943-2429e8be8625?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
            alt="Login"
          />
        </div>
      </div>

      <div class="nextUI" id="registerForm" style="display: none">
        <!-- Register Form -->
        <div class="container">
          <h2>Create Account</h2>
          <form onsubmit="handleRegister(event)">
            <div class="form-group">
              <label for="registerUsername">Username</label>
              <div class="input-icon">
                <i class="fas fa-user"></i>
                <input
                  type="text"
                  id="registerUsername"
                  required
                  placeholder="Choose a username"
                />
              </div>
            </div>
            <div class="form-group">
              <label for="registerFullname">Full Name</label>
              <div class="input-icon">
                <i class="fas fa-id-card"></i>
                <input
                  type="text"
                  id="registerFullname"
                  required
                  placeholder="Enter your full name"
                />
              </div>
            </div>
            <div class="form-group">
              <label for="registerEmail">Email</label>
              <div class="input-icon">
                <i class="fas fa-envelope"></i>
                <input
                  type="email"
                  id="registerEmail"
                  required
                  placeholder="Enter your email"
                />
              </div>
            </div>
            <div class="form-group">
              <label for="registerPassword">Password</label>
              <div class="input-icon">
                <i class="fas fa-lock"></i>
                <input
                  type="password"
                  id="registerPassword"
                  required
                  placeholder="Create a password"
                />
              </div>
            </div>
            <div class="form-group">
              <label for="registerBirthdate">Birth Date</label>
              <div class="input-icon">
                <i class="fas fa-calendar"></i>
                <input type="date" id="registerBirthdate" required />
              </div>
            </div>
            <button type="submit">
              <i class="fas fa-user-plus"></i>
              Register
            </button>
            <div class="switch-form">
              <a href="#" onclick="switchForm('login')"
                >Already have an account? Login</a
              >
            </div>
          </form>
        </div>
        <div class="image">
          <img
            id="img1"
            src="https://images.unsplash.com/photo-1497005367839-6e852de72767?q=80&w=2067&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
            alt="Register"
          />
        </div>
      </div>
    </div>

    <div class="dashboard" id="dashboard" style="display: none">
      <div class="dashboard-sidebar">
        <div class="sidebar-header">
          <img src="https://img.freepik.com/premium-vector/user-profile-icon-flat-style-member-avatar-vector-illustration-isolated-background-human-permission-sign-business-concept_157943-15752.jpg" alt="Profile" />
          <h3>Welcome, Erzen</h3>
          <p>Premium Account</p>
        </div>
        <div class="sidebar-nav">
          <a
            href="#default"
            class="nav-item active"
            onclick="showSection('default')"
          >
            <i class="fas fa-home"></i>
            Overview
          </a>
          <a href="#profile" class="nav-item" onclick="showSection('profile')">
            <i class="fas fa-user"></i>
            Profile
          </a>
          <a
            href="#security"
            class="nav-item"
            onclick="showSection('security')"
          >
            <i class="fas fa-shield-alt"></i>
            Security
          </a>
          <a href="#privacy" class="nav-item" onclick="showSection('privacy')">
            <i class="fas fa-lock"></i>
            Privacy
          </a>
          <a
            href="#developer"
            class="nav-item"
            onclick="showSection('developer')"
          >
            <i class="fas fa-code"></i>
            Developer
          </a>
          <button
            class="nav-item"
            onclick="handleLogout()"
            style="margin-top: auto; color: #ff3b30"
          >
            <i class="fas fa-sign-out-alt"></i>
            Sign Out
          </button>
        </div>
      </div>

      <div class="dashboard-content">
        <!-- Default Section -->
        <div class="dashboard-section" id="defaultSection">
          <h1 class="section-title">Account Overview</h1>
          <div class="content-grid">
            <div class="stat-card">
              <h3>Account Status</h3>
              <div class="value">Active</div>
            </div>
            <div class="stat-card">
              <h3>Last Login</h3>
              <div class="value" style="font-size: 1.2rem">2 hours ago</div>
            </div>
            <div class="stat-card">
              <h3>Security Score</h3>
              <div class="value">92%</div>
            </div>
          </div>

          <h2 class="section-title">Connected Devices</h2>
          <div class="oauth-apps">
            <div class="app-card">
              <div class="app-icon">
                <i class="fas fa-laptop"></i>
              </div>
              <div class="app-info">
                <h4>MacBook Pro</h4>
                <p>Last active: 2 minutes ago • New York, USA</p>
              </div>
              <div class="app-actions">
                <button class="btn btn-secondary">Details</button>
              </div>
            </div>
            <div class="app-card">
              <div class="app-icon">
                <i class="fas fa-mobile-alt"></i>
              </div>
              <div class="app-info">
                <h4>iPhone 12</h4>
                <p>Last active: 1 hour ago • New York, USA</p>
              </div>
              <div class="app-actions">
                <button class="btn btn-secondary">Details</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Profile Section -->
        <div
          class="dashboard-section"
          id="profileSection"
          style="display: none"
        >
          <h1 class="section-title">My Profile</h1>
          <div class="card">
            <form onsubmit="handleProfileUpdate(event)">
              <div class="form-group">
                <label for="updateUsername">Username</label>
                <div class="input-icon">
                  <i class="fas fa-user"></i>
                  <input type="text" id="updateUsername" disabled />
                </div>
              </div>
              <div class="form-group">
                <label for="updateFullname">Full Name</label>
                <div class="input-icon">
                  <i class="fas fa-id-card"></i>
                  <input type="text" id="updateFullname" />
                </div>
              </div>
              <div class="form-group">
                <label for="updateBirthdate">Birth Date</label>
                <div class="input-icon">
                  <i class="fas fa-calendar"></i>
                  <input type="date" id="updateBirthdate" />
                </div>
              </div>
              <div class="form-group">
                <label for="updateProfilePhoto">Profile Photo</label>
                <input type="file" id="updateProfilePhoto" />
              </div>
              <button type="submit">
                <i class="fas fa-save"></i>
                Update Profile
              </button>
            </form>
          </div>
        </div>

        <!-- Security Section -->
        <div
          class="dashboard-section"
          id="securitySection"
          style="display: none"
        >
          <h1 class="section-title">Security Settings</h1>
          <!-- Change Password Card -->
          <div class="card">
            <form onsubmit="handlePasswordChange(event)">
              <div class="form-group">
                <label for="currentPassword">Current Password</label>
                <div class="input-icon">
                  <i class="fas fa-lock"></i>
                  <input
                    type="password"
                    id="currentPassword"
                    placeholder="Enter current password"
                  />
                </div>
              </div>
              <div class="form-group">
                <label for="newPassword">New Password</label>
                <div class="input-icon">
                  <i class="fas fa-key"></i>
                  <input
                    type="password"
                    id="newPassword"
                    placeholder="Enter new password"
                  />
                </div>
              </div>
              <button type="submit">
                <i class="fas fa-save"></i>
                Change Password
              </button>
            </form>
          </form>

          <br>

            <div id="twoFactorSetup">
              <div id="enableTwoFactor" style="display: none">
                <p
                  class="mb-4"
                  style="color: var(--text-secondary); margin-bottom: 1.5rem"
                >
                  Enhance your account security by enabling two-factor
                  authentication.
                </p>
                <button onclick="setupTwoFactor()">
                  <i class="fas fa-plus-circle"></i>
                  Enable 2FA
                </button>
              </div>

              <div id="twoFactorFlow" style="display: none">
                <div id="qrStep">
                  <div class="qr-container">
                    <img id="qrCode" alt="QR Code" src="" />
                  </div>
                  <p
                    style="
                      color: var(--text-secondary);
                      margin-bottom: 1.5rem;
                      text-align: center;
                    "
                  >
                    Scan this QR code with your authenticator app (like Google
                    Authenticator)
                  </p>
                  <button onclick="showVerifyCode()">
                    <i class="fas fa-arrow-right"></i>
                    Next Step
                  </button>
                </div>

                <div id="verifyStep" style="display: none">
                  <div class="form-group">
                    <label for="verificationCode">Verification Code</label>
                    <div class="input-icon">
                      <i class="fas fa-key"></i>
                      <input
                        type="text"
                        id="verificationCode"
                        placeholder="Enter 6-digit code"
                      />
                    </div>
                  </div>
                  <button onclick="verifyTwoFactor()">
                    <i class="fas fa-check-circle"></i>
                    Verify and Enable
                  </button>
                </div>
              </div>

              <div id="disableTwoFactor" style="display: none">
                <div class="badge badge-success" style="margin-bottom: 1.5rem">
                  <i class="fas fa-check-circle"></i>
                  <span style="margin-left: 0.5rem"
                    >2FA is currently enabled</span
                  >
                </div>
                <button
                  onclick="disableTwoFactor()"
                  style="background: #ef4444"
                >
                  <i class="fas fa-shield-alt"></i>
                  Disable 2FA
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Developer Section -->
        <div
          class="dashboard-section"
          id="developerSection"
          style="display: none"
        >
          <h1 class="section-title">Developer Settings</h1>
          <button class="create-app">
            <i class="fas fa-plus"></i>
            Create New Application
          </button>

          <div class="oauth-apps">
            <div class="app-card">
              <div class="app-icon">
                <i class="fas fa-cube"></i>
              </div>
              <div class="app-info">
                <h4>Test Application</h4>
                <p>Client ID: 123456 • Created 2 months ago</p>
              </div>
              <div class="app-actions">
                <button class="btn btn-secondary">Edit</button>
                <button class="btn btn-primary">View Keys</button>
              </div>
            </div>

            <div class="app-card">
              <div class="app-icon">
                <i class="fas fa-cube"></i>
              </div>
              <div class="app-info">
                <h4>Production App</h4>
                <p>Client ID: 789012 • Created 5 months ago</p>
              </div>
              <div class="app-actions">
                <button class="btn btn-secondary">Edit</button>
                <button class="btn btn-primary">View Keys</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
      <i class="fas"></i>
      <span id="toastMessage"></span>
    </div>

    <script src="app.js"></script>
  </body>
</html>
